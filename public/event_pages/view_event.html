<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Details</title>
    <link rel="stylesheet" href="/public/event_pages/styles/add_event_style.css">
</head>

<body>
    <div class="event-details-container">
        <h1>Event Details</h1>
        <form id="eventDetailsForm">
            <div class="form-group">
                <label for="eventName">Event Name</label>
                <input type="text" id="eventName" name="eventName" readonly>
            </div>
            <div class="form-group">
                <label for="eventDateTime">Event Date & Time</label>
                <input type="datetime-local" id="eventDateTime" name="eventDateTime" readonly>
            </div>
            <!-- Add other event details fields here as needed -->

            <!-- Update and Exit buttons -->
            <button type="submit" id="updateEventBtn">Update</button>
            <button type="button" id="exitBtn">Exit</button>
        </form>
    </div>

    <script>
        // JavaScript logic to fetch event details and populate the form fields
        const eventDetailsForm = document.getElementById('eventDetailsForm');
        const eventNameInput = document.getElementById('eventName');
        const eventDateTimeInput = document.getElementById('eventDateTime');

        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const eventId = urlParams.get('eventId');

            // Fetch event details based on eventId from index.php
            fetch(`/event_pages/view_event?eventId=${eventId}`)
                .then(response => response.json())
                .then(eventData => {
                    // Populate form fields with event details
                    eventNameInput.value = eventData.event.nome_evento;
                    eventDateTimeInput.value = eventData.event.data_evento;
                    // Populate other event details fields as needed
                })
                .catch(error => console.error('Error fetching event details:', error));
        });

        // Event listener for form submission (update button)
        eventDetailsForm.addEventListener('submit', (e) => {
            e.preventDefault(); // Prevent actual form submission
            // Implement logic to update event details
            console.log('Update button clicked');
        });

        // Event listener for exit button
        document.getElementById('exitBtn').addEventListener('click', () => {
            window.location.href = '/public/dashboard/dashboard.html'; // Navigate back to dashboard
        });
    </script>
</body>

</html>